javascript:void function(){(function(){var t,o,e,n,i,s,r,a,h,l=function(t,o){return function(){return t.apply(o,arguments)}};for(s=window,h=["ms","moz","webkit","o"],r=0,a=h.length;a>r%26%26(i=h[r],!s.requestAnimationFrame);r++)s.requestAnimationFrame=s["%23vendorRequestAnimationFrame"],s.cancelAnimationFrame=s["%23vendorCancelAnimationFrame"]||s["%23vendorCancelRequestAnimationFrame"];n=0,s.requestAnimationFrame||(s.requestAnimationFrame=function(t){var o;return n=Math.max(n+16,o=+new Date),s.setTimeout(function(){return t(+new Date)},n-o)}),s.cancelAnimationFrame||(s.cancelAnimationFrame=function(t){return clearTimeout(t)}),s.findClickPos=function(t){var o,e;return o=0,e=0,t||(t=window.event),t.pageX||t.pageY%3F(o=t.pageX,e=t.pageY):(t.clientX||t.clientY)%26%26(o=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:o,y:e}},s.getOffset=function(t){var o,e,n;for(o=document.getElementsByTagName("body")[0],e=0,n=0;t%26%26!isNaN(t.offsetLeft)%26%26!isNaN(t.offsetTop);)e+=t.offsetLeft-t.scrollLeft,n+=t.offsetTop-t.scrollTop,t=t.offsetParent;return{top:n+o.scrollTop,left:e+o.scrollLeft}},e=function(){function t(t){this.elem=t,this.style=t.style,this.elem.style.zIndex=9999,this.transformX=0,this.transformY=0,this.transformRotation=0,this.offsetTop=window.getOffset(this.elem).top,this.offsetLeft=window.getOffset(this.elem).left,this.velocityX=0,this.velocityY=0}return t.prototype.tick=function(t){var o,e,n,i,s,r,a,h,l,c,m,f,u;return c=this.transformX,m=this.transformY,l=this.transformRotation,this.velocityX>1.5%3Fthis.velocityX-=1.5:this.velocityX<-1.5%3Fthis.velocityX+=1.5:this.velocityX=0,this.velocityY>1.5%3Fthis.velocityY-=1.5:this.velocityY<-1.5%3Fthis.velocityY+=1.5:this.velocityY=0,null!=t%26%26(o=this.offsetLeft+this.transformX-t.x,n=this.offsetTop+this.transformY-t.y,e=o*o,i=n*n,s=e+i,r=1e5/s,r>50%26%26(r=50),f=Math.asin(i/s),h=Math.sin(f)*r*(0>n%3F-1:1),a=Math.cos(f)*r*(0>o%3F-1:1),this.velocityX=+a,this.velocityY=+h),this.transformX=this.transformX+this.velocityX,this.transformY=this.transformY+this.velocityY,this.transformRotation=-1*this.transformX,(Math.abs(c-this.transformX)>1||Math.abs(m-this.transformY)>1||Math.abs(l-this.transformRotation)>1)%26%26(this.transformX>1||this.transformX<-1||this.transformY>1||this.transformY<-1)%3F(u="translate("+this.transformX+"px, "+this.transformY+"px) rotate("+this.transformRotation+"deg)",this.style.MozTransform=u,this.style.OTransform=u,this.style.WebkitTransform=u,this.style.msTransform=u,this.style.transform=u):void 0},t}(),this.Particle=e,t=function(){function t(t,o){this.countDown=l(this.countDown,this),this.drop=l(this.drop,this),this.pos={x:t,y:o},this.body=document.getElementsByTagName("body")[0],this.state="planted",this.count=3,this.drop()}return t.SIZE=50,t.prototype.drop=function(){return this.bomb=document.createElement("div"),this.bomb.innerHTML=this.count,this.body.appendChild(this.bomb),this.bomb.style.zIndex="9999",this.bomb.style.fontFamily="verdana",this.bomb.style.width=""+t.SIZE+"px",this.bomb.style.height=""+t.SIZE+"px",this.bomb.style.display="block",this.bomb.style.borderRadius=""+t.SIZE+"px",this.bomb.style.WebkitBorderRadius=""+t.SIZE+"px",this.bomb.style.MozBorderRadius=""+t.SIZE+"px",this.bomb.style.fontSize="18px",this.bomb.style.color="%23fff",this.bomb.style.lineHeight=""+t.SIZE+"px",this.bomb.style.background="%23000",this.bomb.style.position="absolute",this.bomb.style.top=""+(this.pos.y-t.SIZE/2)+"px",this.bomb.style.left=""+(this.pos.x-t.SIZE/2)+"px",this.bomb.style.textAlign="center",this.bomb.style.WebkitUserSelect="none",this.bomb.style["font-weight"]=700,setTimeout(this.countDown,1e3)},t.prototype.countDown=function(){return this.state="ticking",this.count--,this.bomb.innerHTML=this.count,this.count>0%3FsetTimeout(this.countDown,1e3):this.explose()},t.prototype.explose=function(){return this.bomb.innerHTML="",this.state="explose"},t.prototype.exploded=function(){this.state="exploded",this.bomb.innerHTML="",this.bomb.style.fontSize="12px",this.bomb.remove()},t}(),this.Bomb=t,new(o=function(){function o(){this.tick=l(this.tick,this),this.dropBomb=l(this.dropBomb,this);var t,o,n,i,s=this;window.FONTBOMB_LOADED||(window.FONTBOMB_LOADED=!0,window.FONTBOMB_HIDE_CONFIRMATION||(o=!0),this.bombs=[],this.body=document.getElementsByTagName("body")[0],null!=(i=this.body)%26%26(i.onclick=function(t){return s.dropBomb(t)}),this.body.addEventListener("touchstart",function(t){return s.touchEvent=t}),this.body.addEventListener("touchmove",function(t){return s.touchMoveCount||(s.touchMoveCount=0),s.touchMoveCount++}),this.body.addEventListener("touchend",function(t){return s.touchMoveCount<2%26%26s.dropBomb(s.touchEvent),s.touchMoveCount=0}),this.explosifyNodes(this.body.childNodes),this.chars=function(){var o,n,i,s;for(i=document.getElementsByTagName("particle"),s=[],o=0,n=i.length;n>o;o++)t=i[o],s.push(new e(t,this.body));return s}.call(this),this.tick(),null!=o%26%26(n=document.createElement("style"),n.innerHTML="div%23fontBombConfirmation {\n  position: absolute;\n  top: -200px;\n  left: 0px;\n  right: 0px;\n  bottom: none;\n  width: 100%25;\n  padding: 18px;\n  margin: 0px;\n  background: %23e8e8e8;\n  text-align: center;\n  font-size: 14px;\n  line-height: 14px;\n  font-family: verdana, sans-serif;\n  color: %23000;\n  -webkit-transition: all 1s ease-in-out;\n  -moz-transition: all 1s ease-in-out;\n  -o-transition: all 1s ease-in-out;\n  -ms-transition: all 1s ease-in-out;\n  transition: all 1s ease-in-out;\n  -webkit-box-shadow: 0px 3px 3px rgba(0,0,0,0.20);\n  -moz-box-shadow: 0px 3px 3px rgba(0,0,0,0.20);\n  box-shadow: 0px 3px 3px rgba(0,0,0,0.20);\n  z-index: 100000002;\n}\ndiv%23fontBombConfirmation span,div%23fontBombConfirmation a {\n  color: %23fe3a1a;\n}\ndiv%23fontBombConfirmation.show {\n  top:0px;\n  display:block;\n}",document.head.appendChild(n),this.confirmation=document.createElement("div"),this.confirmation.id="fontBombConfirmation",this.confirmation.innerHTML="<span style='font-weight:bold;'>fontBomb loaded!</span> Click anywhere to destroy."+document.title.substring(0,50),this.body.appendChild(this.confirmation),setTimeout(function(){return s.confirmation.className="show"},10),setTimeout(function(){return s.confirmation.className="",setTimeout(function(){return s.confirmation.innerHTML="If you think fontBomb is a blast, follow me on twitter <a href='http://www.twitter.com/plehoux'>%40plehoux</a> for my next experiment!",s.confirmation.className="show",setTimeout(function(){return s.confirmation.className=""},50)},5e3)},5e3)))}return o.prototype.explosifyNodes=function(t){var o,e,n,i;for(i=[],e=0,n=t.length;n>e;e++)o=t[e],i.push(this.explosifyNode(o));return i},o.prototype.explosifyNode=function(t){var o,e,n,i,s;for(s=["script","style","iframe","canvas","video","audio","textarea","embed","object","select","area","map","input"],n=0,i=s.length;i>n;n++)if(o=s[n],t.nodeName.toLowerCase()===o)return;switch(t.nodeType){case 1:return this.explosifyNodes(t.childNodes);case 3:if(!/^\s*$/.test(t.nodeValue))return 1===t.parentNode.childNodes.length%3Ft.parentNode.innerHTML=this.explosifyText(t.nodeValue):(e=document.createElement("particles"),e.innerHTML=this.explosifyText(t.nodeValue),t.parentNode.replaceChild(e,t))}},o.prototype.explosifyText=function(t){var o,e,n;return e=function(){var e,i,s;for(i=t.split(""),s=[],n=0,e=i.length;e>n;n++)o=i[n],s.push(/^\s*$/.test(o)%3F"%26nbsp;":"<particle style='display:inline-block;'>"+o+"</particle>");return s}(),e=e.join(""),e=function(){var t,i,s;for(i=e.split("%26nbsp;"),s=[],n=0,t=i.length;t>n;n++)o=i[n],s.push(/^\s*$/.test(o)%3Fo:"<word style='white-space:nowrap'>"+o+"</word>");return s}(),e.join(" ")},o.prototype.dropBomb=function(o){var e;return e=window.findClickPos(o),this.bombs.push(new t(e.x,e.y)),window.FONTBOMB_PREVENT_DEFAULT%3Fo.preventDefault():void 0},o.prototype.tick=function(){var t,o,e,n,i,s,r,a,h,l,c;for(h=this.bombs,e=0,s=h.length;s>e;e++)t=h[e],"explose"===t.state%26%26(t.exploded(),this.blast=t.pos);if(null!=this.blast){for(l=this.chars,n=0,r=l.length;r>n;n++)o=l[n],o.tick(this.blast);this.blast=null}else for(c=this.chars,i=0,a=c.length;a>i;i++)o=c[i],o.tick();return requestAnimationFrame(this.tick)},o}())}).call(this)}();
